name: Hello World

on: 
  workflow_call:
    inputs:
      run_id:
        required: false
        type: string
      timeout_minutes:
        required: false
        type: number

jobs:
  Hello:
    runs-on: ubuntu-latest
    steps:
      - name: Greetings 👋🏻
        run: echo "Hellooooooooo"
      - name: Inputs
        run: |
          echo "run_id: ${{inputs.run_id}}"
          echo "timeout_minutes: ${{inputs.timeout_minutes}}"
      - name: Wait for ${{ inputs.timeout_minutes }} minute(s) 🕰
        run: sleep ${{inputs.timeout_minutes}}m
      - name: Checking calling workflow state
        uses: actions/github-script@v6
        id: check-workflow-state
        with:
          result-encoding: string
          script: |
            const response = await github.rest.actions.getWorkflowRun({
              owner: context.repo.owner,
              repo: context.repo.repo,
              run_id: ${{ inputs.run_id }}
            })
            console.log(`${response}`)

            return "what what"